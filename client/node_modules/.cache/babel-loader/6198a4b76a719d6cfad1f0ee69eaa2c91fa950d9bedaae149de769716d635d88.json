{"ast":null,"code":"import React,{useState}from'react';import'./VideoAnalyzer.css';import{AnalyzeVideo}from'../api/youtube.api';import ToastNotification,{showTopToast}from'../components/toasts/toast';import{downloadJson}from'../utils/downloadFile';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const VideoAnalyzer=()=>{const[url,setUrl]=useState('');const[video,setVideo]=useState(null);const[loading,setLoading]=useState(false);const handleAnalyze=async()=>{if(!url)return;setLoading(true);try{const res=await AnalyzeVideo(url);if(res.success){console.log(res.data);setVideo(res.data);}}catch(error){showTopToast(error.message,\"error\",5000);}finally{setLoading(false);}};const handleDownloadJson=data=>{downloadJson(data,\"transcript.json\");showTopToast(\"Downloaded JSON file.\",\"success\",5000);};return/*#__PURE__*/_jsxs(\"div\",{className:\"analyzer-container\",children:[/*#__PURE__*/_jsx(ToastNotification,{}),/*#__PURE__*/_jsx(\"h1\",{className:\"analyzer-title\",children:\"YouTube Video Analyzer\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"analyzer-input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"analyzer-input\",placeholder:\"Paste YouTube URL here...\",value:url,onChange:e=>setUrl(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"analyzer-button\",onClick:handleAnalyze,disabled:loading,children:loading?'Analyzing...':'Analyze'})]}),video&&/*#__PURE__*/_jsxs(\"div\",{className:\"analyzer-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:`http://localhost:5000/thumbnails/${video.thumbnailPath.split('/').pop()}.png`,alt:\"Thumbnail\",className:\"analyzer-thumbnail\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"analyzer-details\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"analyzer-video-title\",children:video.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"analyzer-channel\",children:[\"Channel: \",video.channelName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"analyzer-duration\",children:[\"Duration: \",video.duration]})]})]}),video&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",marginBottom:\"20px\"},children:/*#__PURE__*/_jsx(\"button\",{className:\"analyzer-button download-button\",onClick:()=>handleDownloadJson(video),children:\"Download Transcript as JSON\"})}),video===null||video===void 0?void 0:video.sentences.sentences.map((sentence,index)=>/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"transcript-title\",children:\"Transcript\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"transcript-sentence\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"transcript-sentence-header\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"transcript-sentence-label\",children:[\"Sentence \",index+1,\":\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"transcript-confidence\",children:[\"Confidence: \",sentence.confidence.toFixed(2)]}),/*#__PURE__*/_jsxs(\"span\",{className:\"transcript-confidence\",children:[\"AI Probability: \",sentence.ai_probability.toFixed(10)]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"transcript-text\",children:sentence.text}),/*#__PURE__*/_jsx(\"ul\",{className:\"transcript-word-list\",children:sentence.words.map((word,i)=>/*#__PURE__*/_jsxs(\"li\",{className:`transcript-word ${word.confidence<0.6?\"transcript-word-low\":\"\"}`,children:[\"\\\"\",word.text,\"\\\" \\u2014 confidence: \",word.confidence.toFixed(2),\", start: \",word.start,\", end: \",word.end]},i))})]},index)]}))]});};export default VideoAnalyzer;","map":{"version":3,"names":["React","useState","AnalyzeVideo","ToastNotification","showTopToast","downloadJson","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","VideoAnalyzer","url","setUrl","video","setVideo","loading","setLoading","handleAnalyze","res","success","console","log","data","error","message","handleDownloadJson","className","children","type","placeholder","value","onChange","e","target","onClick","disabled","src","thumbnailPath","split","pop","alt","title","channelName","duration","style","textAlign","marginBottom","sentences","map","sentence","index","confidence","toFixed","ai_probability","text","words","word","i","start","end"],"sources":["/Users/kien/Desktop/projects/Web/tube-insight/client/src/pages/YoutubeForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport './VideoAnalyzer.css';\nimport { AnalyzeVideo } from '../api/youtube.api';\nimport ToastNotification, { showTopToast } from '../components/toasts/toast';\nimport { VideoData } from '../interfaces/youtube.interface';\nimport { downloadJson } from '../utils/downloadFile';\n\nexport const VideoAnalyzer: React.FC = () => {\n    const [url, setUrl] = useState('');\n    const [video, setVideo] = useState<VideoData | null>(null);\n    const [loading, setLoading] = useState(false);\n\n    const handleAnalyze = async () => {\n        if (!url) return;\n        setLoading(true);\n        try {\n            const res = await AnalyzeVideo(url);\n\n            if (res.success) {\n                console.log(res.data);\n                setVideo(res.data);\n            }\n        } catch (error: any) {\n            showTopToast(error.message, \"error\", 5000);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleDownloadJson = (data: VideoData) => {\n        downloadJson(data, \"transcript.json\");\n        showTopToast(\"Downloaded JSON file.\", \"success\", 5000);\n    }\n\n    return (\n        <div className=\"analyzer-container\">\n            <ToastNotification />\n            <h1 className=\"analyzer-title\">YouTube Video Analyzer</h1>\n            <div className=\"analyzer-input-group\">\n                <input\n                    type=\"text\"\n                    className=\"analyzer-input\"\n                    placeholder=\"Paste YouTube URL here...\"\n                    value={url}\n                    onChange={(e) => setUrl(e.target.value)}\n                />\n                <button className=\"analyzer-button\" onClick={handleAnalyze} disabled={loading}>\n                    {loading ? 'Analyzing...' : 'Analyze'}\n                </button>\n            </div>\n\n            {video && (\n                <div className=\"analyzer-card\">\n                    <img src={`http://localhost:5000/thumbnails/${video.thumbnailPath.split('/').pop()}.png`} alt=\"Thumbnail\" className=\"analyzer-thumbnail\" />\n                    <div className=\"analyzer-details\">\n                        <h2 className=\"analyzer-video-title\">{video.title}</h2>\n                        <p className=\"analyzer-channel\">Channel: {video.channelName}</p>\n                        <p className=\"analyzer-duration\">Duration: {video.duration}</p>\n                    </div>\n                </div>\n            )}\n\n            {video && (\n                <div style={{ textAlign: \"center\", marginBottom: \"20px\" }}>\n                    <button\n                        className=\"analyzer-button download-button\"\n                        onClick={() => handleDownloadJson(video)}\n                    >\n                        Download Transcript as JSON\n                    </button>\n                </div>\n            )}\n\n            {video?.sentences.sentences.map((sentence, index) => (\n                <>\n                    <h2 className=\"transcript-title\">Transcript</h2>\n                    <div key={index} className=\"transcript-sentence\">\n                        <div className=\"transcript-sentence-header\">\n                            <span className=\"transcript-sentence-label\">Sentence {index + 1}:</span>\n                            <span className=\"transcript-confidence\">Confidence: {sentence.confidence.toFixed(2)}</span>\n                            <span className=\"transcript-confidence\">AI Probability: {sentence.ai_probability.toFixed(10)}</span>\n                        </div>\n                        <p className=\"transcript-text\">{sentence.text}</p>\n                        <ul className=\"transcript-word-list\">\n                            {sentence.words.map((word, i) => (\n                                <li\n                                    key={i}\n                                    className={`transcript-word ${word.confidence < 0.6 ? \"transcript-word-low\" : \"\"\n                                        }`}\n                                >\n                                    \"{word.text}\" â€” confidence: {word.confidence.toFixed(2)}, start: {word.start}, end: {word.end}\n                                </li>\n                            ))}\n                        </ul>\n                    </div>\n                </>\n            ))}\n        </div>\n    );\n};\n\nexport default VideoAnalyzer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}